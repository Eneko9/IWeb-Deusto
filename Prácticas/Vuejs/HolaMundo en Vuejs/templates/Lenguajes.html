<!DOCTYPE html>
<html>
<head>
	<meta charset = "utf-8">
	<meta name="viewport" content ="width= device-width">
	<title>Vue.js - Ingenieria Web</title>
	<script type="text/javascript" src ="../js/vue.js"></script>
</head>
<body>
	<div id="app-4">
		<div class="header">
			<button v-if= "state === 'default'" @click = "changeState('edit')">Activar edicion</button>
			<button v-else @click = "changeState('default')">Desactivar edicion</button>
		</div>
		<br>
		<div v-if = "state === 'edit'" class="add-item-form">
			<input v-model="newLanguage" type= "text" placeholder="Agregar un nuevo lenguaje" @keyup.enter = "saveLanguage">
			<p>{{characterCount}}/50</p>
			<button @click = "saveLanguage" :disabled="newLanguage.length === 0">Insertar lenguaje</button>
		</div>
		<ul>
			<li v-for="l in reversedLanguages">
				{{l}}
			</li>
		</ul>
		<p v-if="languages.length === 0">No hay  lenguajes</p>
		
	</div>
	
	<script type = "text/javascript">
	var app4 = new Vue({
		el: "#app-4",
		data:{
			state: 'default',
            header: "Lenguajes de programacion de IW",
            newLanguage: "",
			languages: []
		},
		methods:{
			saveLanguage: function(event){
				if(this.newLanguage != "tonto"){
					this.languages.push(this.newLanguage);
				}
				this.newLanguage = ""
				if(event){
					alert(event.target.tagName)
				}
			},
			changeState: function(newState){
				this.state = newState;
			}
		},
		computed:{
			characterCount(){
				return this.newLanguage.length;
			},
			reversedLanguages(){
				return this.languages.slice(0).reverse();
			}
		}
	});
	</script>
</body>
</html>